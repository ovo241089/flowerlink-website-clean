function headertext(){$.ajax({type:"GET",url:"/Home/GetSetting",contentType:"application/json; charset=utf-8",dataType:"json",success:function(t){$("#TopHeaderText").html(t.TopHeaderText),1!=t.Facebook||null==t.Facebook?$("#facebook").addClass("d-none"):$("#facebook a").attr("href",t.FacebookUrl),1!=t.Instagram||null==t.Instagram?$("#instagram").addClass("d-none"):$("#instagram a").attr("href",t.InstagramUrl),1!=t.Twitter||null==t.Twitter?$("#twitter").addClass("d-none"):$("#twitter a").attr("href",t.TwitterUrl),null==t.ShopUrl||""==t.ShopUrl?$(".Shop-Now-Button").attr("href","/shop/shop?MinPrice=BD0&MaxPrice=BD500&SortID=0"):$(".Shop-Now-Button").attr("href",t.ShopUrl)},error:function(t,e,a){}})}$(document).ready(function(){ShowText(),topheadcart(),cartitem(),GetWishListItems(),StockActiveColor(),headertext(),CountDownTimer();var t=(new Date).getTime(),e=localStorage.getItem("setupTime");null==e?localStorage.setItem("setupTime",t):432e5<t-e&&(localStorage.clear(),localStorage.setItem("setupTime",t)),$(".addItemLS").click(function(){cartitem(),topheadcart()})});var arrGift=[];function addgift(){var t=getgiftLS();if(null!=t)for(var e=0;e<arrGift.length;e++)t.push({ItemID:arrGift[e].ItemID,GiftID:arrGift[e].GiftID,Title:arrGift[e].Title,Image:arrGift[e].Image,DisplayPrice:arrGift[e].DisplayPrice,DiscountedPrice:arrGift[e].DiscountedPrice,Key:arrGift[e].Key,ItemKey:parseInt($("#hdnItemKey").val())}),setgiftLS(t);else setgiftLS(arrGift);$("#gift").modal("toggle")}function setgiftLS(t){null!=localStorage.getItem("_giftitems")&&localStorage.setItem("_giftitems",JSON.stringify(t))}function getgiftLS(){var t=localStorage.getItem("_giftitems");return null!=t&&""!=t?JSON.parse(t):JSON.parse("[]")}function addGiftItem(t,e,a,r,s,i,l){t.checked?arrGift.push({ItemID:e,GiftID:a,Title:r,Image:s,DisplayPrice:i,DiscountedPrice:l,Key:Math.floor(1e3*Math.random()+1)}):arrGift.splice(t,1)}function toast(t,e){1==e?($(".toast-body").html(t),$(".toast-head-text").html("Success").addClass(" text-success"),$(".toast").addClass(" bg-green text-success")):2==e?($(".toast-head-text").html("Warning"),$(".toast-body").html(t),$(".toast").addClass(" bg-warning text-dark")):($(".toast-body").html(t),$(".toast-head-text").html("Danger"),$(".toast").addClass(" bg-danger text-white ")),$(".toast").toast({delay:3e3}).toast("show")}function topheadcart(){var t=localStorage.getItem("currency"),e=(null==localStorage.getItem("_cartitems")&&localStorage.setItem("_cartitems","[]"),null==localStorage.getItem("_Wishlistitems")&&localStorage.setItem("_Wishlistitems","[]"),null==localStorage.getItem("_giftitems")&&localStorage.setItem("_giftitems","[]"),getgiftLS()),a=getCartLS(),r="",s=0,i=a.length;r+='<div class="cart-height scrollbar" id="style2">';for(var l=0;l<a.length;l++){var c=0;if(s+=a[l].Qty*a[l].UPrice,r+='<li class="cart-item" ><div class="cart-image">',""==a[l].Image||null==a[l].Image?r+='<a href="/Product/ProductDetails?ItemID='+a[l].ItemID+'"><img alt="" src="/Content/assets/images/NA.png"></a>':r+='<a href="/Product/ProductDetails?ItemID='+a[l].ItemID+'"><img alt="" src="http://admin.flowerlink.net/'+a[l].Image+'"></a>',r+='</div><div class="cart-title"><a href="/Product/ProductDetails?ItemID='+a[l].ItemID+'"><h4 class="mb-0 lh-16">'+a[l].Qty+" x "+a[l].Title+"</h4></a>",0<e.length)for(var o=e.filter(function(t){return t.ItemKey===a[l].Key}),n=0;n<o.length;n++)s+=o[n].DisplayPrice,c+=o[n].DisplayPrice,r+='<p class="mb-0 text-default small lh-16 ">-'+o[n].Title+"</p>";r+='<div class="price-box"><span class="new-price">'+t+" "+(a[l].Qty*a[l].UPrice+c).toFixed(2)+"</span></div></li>"}r+='</div><li class="subtotal-titles"><div class="subtotal-titles"> <h3 data-translate="000co23">Sub-Total :</h3><span>'+t+" "+s.toFixed(2)+'</span> </div> </li> <li class="mini-cart-btns"> <div class="cart-btns"> <a href="/order/cart"><span data-translate="000aa5">View cart</span></a> <a href="/order/checkout" ><span data-translate="000aa6">Checkout</span></a> </div> </li>',0<a.length?$(".head-cart").show():$(".head-cart").hide(),$(".head-cart").html(r),$("#cart-total").html(i)}function cartitem(){for(var t=localStorage.getItem("currency"),e=getgiftLS(),a=getCartLS(),r="",s=0,i=0;i<a.length;i++){var l=0;if(Number(a[i].Qty),s+=a[i].Qty*a[i].UPrice,r+='<tr><td width="5%" class="plantmore-product-remove"><button class="bg-transparent border-0 text-danger" onclick="removeCartItem('+a[i].Key+'); return false;"><i class="h3 ion-trash-a mb-0"></i></button></td>',""==a[i].Image||null==a[i].Image?r+='<td width="15%" class="plantmore-product-thumbnail"><a href="/Product/ProductDetails?ItemID='+a[i].ItemID+'"><img class="cart-img" src="/Content/assets/images/NA.png" alt=""></a></td>':r+='<td  width="15%" class="plantmore-product-thumbnail"><a href="/Product/ProductDetails?ItemID='+a[i].ItemID+'"><img class="cart-img" src="http://admin.flowerlink.net/'+a[i].Image+'" alt=""></a></td>',r+='<td width="35%" class="plantmore-product-name"><p><a href="/Product/ProductDetails?ItemID='+a[i].ItemID+'">'+a[i].Title+"</a></p>",0<e.length)for(var c=e.filter(function(t){return t.ItemKey===a[i].Key}),o=0;o<c.length;o++)r=(r+='<p class="addon"> Addon Products</p>')+'<div class="d-flex flex-wrap justify-content-center mb-3 gift-in-cart border"><div class="p-2 img"><img src="http://admin.flowerlink.net/'+c[o].Image+'" alt=""></div><div class="p-2 align-self-center"><p>'+c[o].Title+'</p></div><div class="p-2 align-self-center "><p class="badge badge-dark"><span class="currency-text mx-0 text-white"></span>'+t+" "+c[o].DisplayPrice+'</p></div><div class="p-2 align-self-center"><button class="bg-transparent border-0 text-danger" onclick="removeCartGift('+c[o].Key+'); return false;"><i class="h6 ion-trash-a mb-0"></i></button></div></div>',s+=c[o].DisplayPrice,l+=c[o].DisplayPrice;r+='</td><td width="15%" class="plantmore-product-price"><span class="amount"><span class="currency-text mx-0"></span>'+t+" "+a[i].UPrice.toFixed(2)+'</span></td><td width="15%" class="plantmore-product-quantity"><input id="qty'+a[i].Key+'"  name="qty'+a[i].Key+'" onchange="changeQty('+a[i].Key+","+a[i].UPrice+'); return false;" class="Quantity" value="'+a[i].Qty+'" type="number"></td><td width="15%" class="product-subtotal">'+t+' <span class="amount totalprice"  id="tprice'+a[i].Key+'">'+(a[i].Qty*a[i].UPrice+l).toFixed(2)+"</span></td></tr>"}0<a.length?($(".cart-items").html(r),$("#check-btn").show()):($("#cart-table").html("No Item added"),$("#check-btn").hide()),$(".subtotal").html(t+" "+s.toFixed(2)),$(".totalamount").html(t+" "+s.toFixed(2))}function changeQty(t,e){if(0<$("#qty"+t).val()){for(var a=getCartLS(),r=0;r<a.length;r++)a[r].Key==t&&(a[r].Qty=$("#qty"+t).val(),a[r].Price=a[r].Qty*e,$("#tprice"+t).html(a[r].Price.toFixed(2)));setCartLS(a),cartitem(),topheadcart()}else $("#qty"+t).val(1)}function removeCartItem(a){var r=getCartLS(),s=getgiftLS(),i=(r.forEach(function(t,e){t.Key===a&&r.splice(e,1)}),s.filter(t=>t.ItemKey===a));s.forEach(function(t,e){t.ItemKey===a&&s.splice(e,i.length)}),setCartLS(r),setgiftLS(s),cartitem(),topheadcart()}function removeCartGift(a){var r=getgiftLS(),s=r.filter(t=>t.Key===a);r.forEach(function(t,e){t.Key===a&&r.splice(e,s.length)}),setgiftLS(r),cartitem(),topheadcart()}function addtocart(t,e,a,r,s){var i=Math.floor(1e3*Math.random()+1),l=($("#hdnItemKey").val(i),[]);(l=getCartLS()).push({ItemID:t,Title:e,Image:a,UPrice:r,Price:r,Qty:s,Key:i}),setCartLS(l),topheadcart()}function setCartLS(t){localStorage.getItem("_cartitems");localStorage.setItem("_cartitems",JSON.stringify(t))}function getCartLS(){var t=localStorage.getItem("_cartitems");return null!=t&&""!=t?JSON.parse(t):JSON.parse("[]")}function addtoWishlist(t,e,a,r,s,i){var l=[];(l=getWishlistLS()).push({ItemID:t,Title:e,Image:a,Price:r,Instock:s,Qty:i,Key:Math.floor(1e3*Math.random()+1)}),setWishlistLS(l)}function setWishlistLS(t){null!=localStorage.getItem("_Wishlistitems")&&localStorage.setItem("_Wishlistitems",JSON.stringify(t))}function getWishlistLS(){var t=localStorage.getItem("_Wishlistitems");return null!=t&&""!=t?JSON.parse(t):JSON.parse("[]")}function removeWishlistitem(e){var t=getWishlistLS();t.splice(t.filter(t=>t.Key===e),1),setWishlistLS(t),GetWishListItems()}function GetWishListItems(){for(var t=localStorage.getItem("currency"),e=localStorage.getItem("_Wishlistitems"),a=JSON.parse(e),r="",s=0;s<a.length;s++)Number(a[s].Qty),a[s].Price,r+="<tr>",""==a[s].Image||null==a[s].Image?r+='<td class="plantmore-product-thumbnail"><a href="/Product/ProductDetails?ItemID='+a[s].ItemID+'"><img class="wishlist-img" src="/Content/assets/images/NA.png" alt=""></a></td>':r+='<td class="plantmore-product-thumbnail"><a href="/Product/ProductDetails?ItemID='+a[s].ItemID+'"><img class="wishlist-img" src="http://admin.flowerlink.net/'+a[s].Image+'" alt=""></a></td>',r+='<td class="plantmore-product-name"><a href="#">'+a[s].Title+'</a></td><td class="plantmore-product-price"><span class="currency-text mx-0">'+t+" "+a[s].Price.toFixed(2)+'</span></td><td class="plantmore-product-stock-status"><span class="stockcheck">'+a[s].Instock+'</span></td><td class="plantmore-product-add-cart"><a class="btn btn-default btn-small" href="/Product/ProductDetails?ItemID='+a[s].ItemID+'">Buy Now</a></td><td class="plantmore-product-remove"><button class="bg-transparent border-0 text-danger" onclick="removeWishlistitem('+a[s].Key+'); return false;"><i class="h5 ion-trash-a mb-0"></i></a></td></tr>';0<a.length?$(".wishlist-items").html(r):$("#ytdTable").html("You donot have any item in favourites ")}function StockActiveColor(){$("#ytdTable span.stockcheck").each(function(){"True"==$(this).html()?($(this).html("In Stock"),$(this).css("color","green")):($(this).html("In Stock"),$(this).css("color","black"))})}var currency="BD",currencyLS=localStorage.getItem("currency");function ShowText(){var t=localStorage.getItem("currency");$(".currency-text").text(t)}function getmail(){var t=$(".SubscribeEmail").val();$(".SubscribeEmail").val(""),$.ajax({type:"Get",url:"/Home/Subscribe?email="+t,contentType:"application/json; charset=utf-8",dataType:"json",success:function(t){},error:function(t,e,a){}})}null==currencyLS?localStorage.setItem("currency",currency):localStorage.setItem("currency","BD"),window.addEventListener("load",function(){var t=document.getElementsByClassName("needs-validation");Array.prototype.filter.call(t,function(e){e.addEventListener("submit",function(t){!1===e.checkValidity()&&(t.preventDefault(),t.stopPropagation()),e.classList.add("was-validated")},!1)})},!1);